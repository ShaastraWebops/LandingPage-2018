<!DOCTYPE html>
<html style="width: 60%; margin: 50px;">

<head>
	<meta charset="utf-8"/>
	<title>Sampark Survey - Shaastra 2018</title>
  	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
  	<script type="text/javascript" src="./survey.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
</head>

<body ng-app="surveyApp" ng-controller="main as mainCtrl">

	<h1>Sampark Survey</h1>

    <form name="userForm" novalidate>

        <div class="form-group">
	    	<label>Select a City</label>
			<select class="form-control" ng-required="true" ng-model="mainCtrl.city">
				<option ng-repeat="city in mainCtrl.citys" value="{{city._id}}">{{city.name}}</option>
			</select>
		</div>	

		<div>
			<div class="form-group" ng-class="{ 'has-error' : userForm.workshop1.$invalid && (userForm.workshop1.$dirty || submitted)}">
				<label>Workshop1</label>
				<select class="form-control" ng-model="mainCtrl.workshop1" ng-required="true" ng-options="wshop for wshop in mainCtrl.workshops" ng-change="mainCtrl.optionChanged(mainCtrl.workshop1)">
				</select>
			</div>

			<div class="form-group">
				<label>Workshop2</label>
				<select class="form-control" ng-model="mainCtrl.workshop2" ng-required="true" ng-options="wshop for wshop in mainCtrl.workshops" ng-change="mainCtrl.optionChanged(mainCtrl.workshop2)">
				</select>
			</div>

			<div class="form-group">
				<label>Workshop3</label>
				<select class="form-control" ng-model="mainCtrl.workshop3" ng-required="true" ng-options="wshop for wshop in mainCtrl.workshops" ng-change="mainCtrl.optionChanged(mainCtrl.workshop3)">
				</select>
			</div>	

			<button type="submit" ng-click="mainCtrl.submitForm()" ng-disabled="userForm.$invalid" class="btn btn-primary">Submit</button>
		</div>
	</form>	
</body>
</html>